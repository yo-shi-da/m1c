<div class="container">
  <h1><%= t('groups.group_all') %></h1>

  <table class="table table-hover">
    <thead>
      <tr class="table-primary">
        <th><%= t('groups.name') %></th>
        <th><%= t('groups.owner') %></th>
        <th><%= t('groups.join') %></th>
        <th colspan="10"></th>
      </tr>
    </thead>

    <tbody>
      <% @groups.each do |group| %>
        <tr>
          <td><%= group.name %> 様</td>
          <td><%= group.users.first.name %> 様</td>
          <td><%= group_participation_helper(group) %></td>
          <td></td>
          <td></td>
          <% if current_user.id == group.owner_id %>
            <td><%= link_to t('button.edit'), edit_group_path(group), class:"btn btn-outline-success" %></td>
            <td><%= link_to t('button.destroy'), group, class:"btn btn-outline-success", method: :delete, data: { confirm: '参加している患者一覧が消去されますが、よろしいですか？（患者様の情報は削除されません。）' } %></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <% unless my_group.present? %>
    <%= link_to t('button.new'), new_group_path, class:"btn btn-outline-info" %>
  <% end %>
</div>
